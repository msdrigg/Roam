<!DOCTYPE html>
<html lang="{{ page.lang | default: "en" }}" class="html" data-theme="{{ site.theme_config.appearance | default: "auto" }}">
    <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    {% if page.appclip %}
    <meta name="apple-itunes-app" content="app-id=6469834197, app-clip-bundle-id=com.msdrigg.roam.Clip, app-clip-display=card">
    {% endif %}

    <title>
        {% if page.title %}
        {{ page.title }}
        {% else %}
        {{ site.title }}
        {% endif %}
    </title>

    {% seo title=false %}
    {% feed_meta %}

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#ffffff">
    <!-- Favicon -->

    <link rel="stylesheet" href="{{ "/assets/css/main.css" | relative_url }}" />
    {% if site.theme_config.appearance_toggle %}
        {% include toggle_theme_js.html %}
    {% endif %}

    {%- include custom_head.html -%}
    </head>
  <body>
    <main class="page-content" aria-label="Content">
      <div class="w">
        {{ content }}
        {% if site.theme_config.appearance_toggle %}
          {% include toggle_theme_button.html %}
        {% endif %}
      </div>
    </main>
  </body>
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
        const queryParams = new URLSearchParams(window.location.search);
        const anchors = document.querySelectorAll('a');
        anchors.forEach(anchor => {
            if (anchor.textContent.includes('+queryparams')) {
                anchor.textContent = anchor.textContent.replace('+queryparams', '');
                const queryParams = new URLSearchParams(window.location.search);
                const queryParamsString = queryParams.toString();
                anchor.href = `${anchor.href}?${queryParamsString}`;
            }
            
            if (anchor.textContent.includes("+quickclick")) {
                setTimeout(() => {
                    anchor.click();
                }, 200);
            }
        });
    });
  </script>
</html>
